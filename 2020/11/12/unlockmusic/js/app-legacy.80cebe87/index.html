<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="unlockmusic/js/app-legacy.80cebe87, HackTechs.top">
    <meta name="description" content="Feb-05-2020">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>unlockmusic/js/app-legacy.80cebe87 | HackTechs.top</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/css/my.css">

    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" id="headerChanged" class="waves-effect waves-light" style="width:max-content" >
                    
                    <img src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">HackTechs.top</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="https://instagram.com/jingyouni" target="_blank" rel="noopener" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/en" class="waves-effect waves-light">
      
      <span>English</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">HackTechs.top</div>
        <div class="logo-desc">
            
            Feb-05-2020
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="https://instagram.com/jingyouni" target="_blank" rel="noopener" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/en" class="waves-effect waves-light">
			
				<i class="fas fa-fw fa-link"></i>
			
			English
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    
<script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('Please enter password to read.')).toString(CryptoJS.enc.Hex)) {
                alert('Password incorrect.');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/medias/featureimages/11.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">unlockmusic/js/app-legacy.80cebe87</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<body><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5f9773bbad06e7a5"></script></body>
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-11-12
                </div>
                

                


                

                

                
                <!--
                <div align="middle">
                    <img src="/en/medias/contact.jpg" width="80%">
                </div>
            -->
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                (function(e){function t(t){for(var n,i,o=t[0],s=t[1],u=t[2],f=0,d=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},c=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"002f":function(e,t,r){"use strict";r.r(t),r.d(t,"Decrypt",(function(){return l}));r("c975"),r("fb6a"),r("ace4"),r("d3b7"),r("3ca3"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),r("96cf");var n=r("c964"),a=r("06dc"),c=r("fd2f"),i=r("cb96"),o=[105,102,109,116],s=[254,254,254,254],u={" WAV":".wav",FLAC:".flac"," MP3":".mp3"," A4M":".m4a"};function l(e,t,r){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var l,f,d,p,m,b,h,g,w,v,x,y,k,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,Object(a["d"])(t);case 3:if(e.t1=e.sent,l=new e.t0(e.t1),Object(a["i"])(o,l.slice(0,4))&&Object(a["i"])(s,l.slice(8,12))){e.next=13;break}if("xm"!==n){e.next=10;break}return e.abrupt("return",{status:!1,message:"此xm文件已损坏"});case 10:return e.next=12,Object(c["Decrypt"])(t,r,n,!0);case 12:return e.abrupt("return",e.sent);case 13:if(f=(new TextDecoder).decode(l.slice(4,8)),u.hasOwnProperty(f)){e.next=16;break}return e.abrupt("return",{status:!1,message:"未知的xm文件类型"});case 16:for(d=l[15],p=l[12]|l[13]<<8|l[14]<<16,m=l.slice(16),b=m.length,h=p;h<b;++h)m[h]=m[h]-d^255;return g=u[f],w=a["a"][g],v=new Blob([m],{type:w}),e.next=26,i.parseBlob(v);case 26:return x=e.sent,"wav"===g&&(console.log(x.common),x.common.album="",x.common.artist="",x.common.title=""),y=-1===r.indexOf("_")?"-":"_",k=Object(a["e"])(x.common.artist,x.common.title,r,y),_=Object(a["f"])(x),e.abrupt("return",{status:!0,title:k.title,artist:k.artist,ext:g,album:x.common.album,picture:_,file:URL.createObjectURL(v),mime:w,rawExt:"xm"});case 32:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},"034f":function(e,t,r){"use strict";r("85ec")},"06dc":function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"j",(function(){return o})),r.d(t,"a",(function(){return f})),r.d(t,"h",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return h})),r.d(t,"i",(function(){return g})),r.d(t,"b",(function(){return w})),r.d(t,"g",(function(){return v})),r.d(t,"k",(function(){return y}));r("a623"),r("fb6a"),r("d3b7"),r("ac1f"),r("3ca3"),r("1276"),r("2ca0"),r("498a"),r("ddb0"),r("2b3d"),r("96cf");var n=r("c964"),a=r("7907"),c=(r("cb96"),[102,76,97,67]),i=[73,68,51],o=[79,103,103,83],s=[102,116,121,112],u=[48,38,178,117,142,102,207,17,166,217,0,170,0,98,206,108],l=[82,73,70,70],f={mp3:"audio/mpeg",flac:"audio/flac",m4a:"audio/mp4",ogg:"audio/ogg",wma:"audio/x-ms-wma",wav:"audio/x-wav"},d="https://stats.ixarea.com/apis";function p(e){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.readAsArrayBuffer(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-",a="",c="",i=r.split(n);return i.length>1?(a=i[0].trim(),c=i[1].trim()):1===i.length&&(c=i[0].trim()),"string"==typeof e&&""!==e&&(a=e),"string"==typeof t&&""!==t&&(c=t),{artist:a,title:c}}function h(e){var t="";if(void 0!==e.common.picture&&e.common.picture.length>0){var r=new Blob([e.common.picture[0].data],{type:e.common.picture[0].format});t=URL.createObjectURL(r)}return t}function g(e,t){return e.every((function(e,r){return e===t[r]}))}function w(e,t){return g(i,e.slice(0,i.length))?"mp3":g(c,e.slice(0,c.length))?"flac":g(o,e.slice(0,o.length))?"ogg":g(s,e.slice(4,4+s.length))?"m4a":g(u,e.slice(0,u.length))?"wma":g(l,e.slice(0,l.length))?"wav":t}function v(e){return x.apply(this,arguments)}function x(){return x=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(r=e.sent,n=r.headers.get("Content-Type"),!n.startsWith("image/")){e.next=12;break}return e.next=8,r.arrayBuffer();case 8:return a=e.sent,c=new Blob([a],{type:n}),i=URL.createObjectURL(c),e.abrupt("return",{buffer:a,src:t,url:i,type:n});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:return e.abrupt("return",{buffer:null,src:t,url:"",type:""});case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),x.apply(this,arguments)}function y(e,t,r,n){return k.apply(this,arguments)}function k(){return k=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,c){var i,o,s,u,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=l.length>4&&void 0!==l[4]?l[4]:null,o=l.length>5&&void 0!==l[5]?l[5]:"Cover",s=!(l.length>6&&void 0!==l[6])||l[6],u=new a(t),s||u.setFrame("TPE1",r).setFrame("TIT2",n).setFrame("TALB",c),null!==i&&u.setFrame("APIC",{type:3,data:i,description:o}),u.addTag(),e.abrupt("return",u.arrayBuffer);case 8:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}},"0c6f":function(e,t,r){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56bc":function(e,t,r){"use strict";r("0c6f")},"56d7":function(e,t,r){"use strict";r.r(t);r("46a1"),r("450d");var n=r("e5f2"),a=r.n(n),c=(r("6b30"),r("c284")),i=r.n(c),o=(r("0c67"),r("299c")),s=r.n(o),u=(r("b5d8"),r("f494")),l=r.n(u),f=(r("560b"),r("dcdc")),d=r.n(f),p=(r("f225"),r("89a9")),m=r.n(p),b=(r("f4f9"),r("c2cc")),h=r.n(b),g=(r("7a0f"),r("0f6c")),w=r.n(g),v=(r("aaa5"),r("a578")),x=r.n(v),y=(r("adec"),r("3d2d")),k=r.n(y),_=(r("bdc7"),r("aa2f")),j=r.n(_),O=(r("de31"),r("c69e")),M=r.n(O),A=(r("5466"),r("ecdf")),D=r.n(A),R=(r("38a0"),r("ad41")),U=r.n(R),B=(r("1951"),r("eedf")),S=r.n(B),T=(r("acb6"),r("c673")),C=r.n(T),E=(r("fd71"),r("a447")),L=r.n(E),P=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{attrs:{id:"app"}},[r("el-main",[r("x-upload",{on:{handle_error:e.showFail,handle_finish:e.showSuccess}}),r("div",{attrs:{id:"app-control"}},[r("el-row",{staticStyle:{"padding-bottom":"1em","font-size":"14px"}},[e._v(" 歌曲命名格式： "),r("el-radio",{attrs:{label:"1",name:"format"},model:{value:e.download_format,callback:function(t){e.download_format=t},expression:"download_format"}},[e._v("歌手-歌曲名")]),r("el-radio",{attrs:{label:"2",name:"format"},model:{value:e.download_format,callback:function(t){e.download_format=t},expression:"download_format"}},[e._v("歌曲名")]),r("el-radio",{attrs:{label:"3",name:"format"},model:{value:e.download_format,callback:function(t){e.download_format=t},expression:"download_format"}},[e._v("歌曲名-歌手")]),r("el-radio",{attrs:{label:"4",name:"format"},model:{value:e.download_format,callback:function(t){e.download_format=t},expression:"download_format"}},[e._v("同原文件名")])],1),r("el-row",[r("el-button",{attrs:{icon:"el-icon-download",plain:""},on:{click:e.handleDownloadAll}},[e._v("下载全部")]),r("el-button",{attrs:{icon:"el-icon-delete",plain:"",type:"danger"},on:{click:e.handleDeleteAll}},[e._v("清除全部")]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 当您使用此工具进行大量文件解锁的时候，建议开启此选项。"),r("br"),e._v(" 开启后，解锁结果将不会存留于浏览器中，防止内存不足。 ")]),r("el-checkbox",{staticStyle:{"margin-left":"1em"},attrs:{border:""},model:{value:e.instant_download,callback:function(t){e.instant_download=t},expression:"instant_download"}},[e._v("立即保存")])],1)],1)],1),r("audio",{attrs:{autoplay:e.playing_auto,src:e.playing_url,controls:""}}),r("x-preview",{attrs:{download_format:e.download_format,"table-data":e.tableData},on:{music_changed:e.changePlaying}})],1),r("el-footer",{attrs:{id:"app-footer"}},[r("el-row",[r("a",{attrs:{href:"https://github.com/ix64/unlock-music",target:"_blank"}},[e._v("音乐解锁")]),e._v("(v"),r("span",{domProps:{textContent:e._s(e.version)}}),e._v(")：移除已购音乐的加密保护。 "),r("a",{attrs:{href:"https://github.com/ix64/unlock-music/wiki/使用提示",target:"_blank"}},[e._v("使用提示")])]),r("el-row",[e._v(" 目前支持网易云音乐(ncm), QQ音乐(qmc, mflac, mgg), 酷狗音乐(kgm), 虾米音乐(xm), 酷我音乐(.kwm) "),r("a",{attrs:{href:"https://github.com/ix64/unlock-music/blob/master/README.md",target:"_blank"}},[e._v("更多")]),e._v("。 ")]),r("el-row",[r("span",[e._v("Copyright © 2019-")]),r("span",{domProps:{textContent:e._s((new Date).getFullYear())}}),e._v(" MengYX 音乐解锁使用 "),r("a",{attrs:{href:"https://github.com/ix64/unlock-music/blob/master/LICENSE",target:"_blank"}},[e._v("MIT许可协议")]),e._v(" 开放源代码 ")])],1)],1)},I=[],q=(r("4160"),r("d3b7"),r("159b"),r("96cf"),r("c964")),N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-upload",{attrs:{"auto-upload":!1,"on-change":e.handleFile,"show-file-list":!1,action:"",drag:"",multiple:""}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击选择")])]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("本工具仅在浏览器内对文件进行解锁，无需消耗流量")]),r("transition",{attrs:{name:"el-fade-in"}},[r("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.progress_show,expression:"progress_show"}],staticStyle:{margin:"16px 6px 0 6px"},attrs:{format:e.progressFormat,percentage:e.progress_percent,"stroke-width":16,"text-inside":!0}})],1)],1)},$=[],Q=(r("b0c0"),{name:"upload",data:function(){return{cacheQueue:[],workers:[],idle_workers:[],thread_num:1,progress_show:!1,progress_finished:0,progress_all:0,progress_percent:0}},mounted:function(){var e=this;if(""!==document.location.host){this.thread_num=navigator.hardwareConcurrency||1;var t=r("bfa2");this.workers.push(t().CommonDecrypt),this.idle_workers.push(0),setTimeout((function(){for(var r=1;r<e.thread_num;r++)e.workers.push(t().CommonDecrypt),e.idle_workers.push(r)}),5e3)}else{var n=r("bd2e");this.workers.push(n.CommonDecrypt),this.idle_workers.push(0)}},methods:{progressFormat:function(){return this.progress_finished+"/"+this.progress_all},progressChange:function(e,t){var r=this;this.progress_all+=t,this.progress_finished+=e,this.progress_percent=Math.round(this.progress_finished/this.progress_all*100),this.progress_finished===this.progress_all?setTimeout((function(){r.progress_show=!1,r.progress_finished=0,r.progress_all=0}),3e3):this.progress_show=!0},handleFile:function(e){this.progressChange(0,1),this.idle_workers.length>0?this.handleDoFile(e,this.idle_workers.shift()):this.cacheQueue.push(e)},handleCacheQueue:function(e){0!==this.cacheQueue.length?this.handleDoFile(this.cacheQueue.shift(),e):this.idle_workers.push(e)},handleDoFile:function(e,t){var r=this;this.workers[t](e).then((function(e){r.$emit("handle_finish",e),r.handleCacheQueue(t),r.progressChange(1,0)})).catch((function(n){r.$emit("handle_error",n,e.name),r.handleCacheQueue(t),r.progressChange(1,0)}))}}}),J=Q,V=(r("56bc"),r("2877")),H=Object(V["a"])(J,N,$,!1,null,"a829b4f6",null),W=H.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{label:"封面"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.picture}},[r("div",{staticClass:"image-slot el-image__error",attrs:{slot:"error"},slot:"error"},[e._v(" 暂无封面 ")])])]}}])}),r("el-table-column",{attrs:{label:"歌曲"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.title))])]}}])}),r("el-table-column",{attrs:{label:"歌手"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(t.row.artist))])]}}])}),r("el-table-column",{attrs:{label:"专辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(t.row.album))])]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{circle:"",icon:"el-icon-video-play",type:"success"},on:{click:function(r){return e.handlePlay(t.$index,t.row)}}}),r("el-button",{attrs:{circle:"",icon:"el-icon-download"},on:{click:function(r){return e.handleDownload(t.row)}}}),r("el-button",{attrs:{circle:"",icon:"el-icon-delete",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}})]}}])})],1)},K=[];r("a434"),r("3ca3"),r("2ca0"),r("ddb0"),r("2b3d");function G(e,t){var r=document.createElement("a");switch(r.href=e.file,t){default:case"1":r.download=e.artist+" - "+e.title+"."+e.ext;break;case"2":r.download=e.title+"."+e.ext;break;case"3":r.download=e.title+" - "+e.artist+"."+e.ext;break;case"4":r.download=e.rawFilename+"."+e.ext;break}document.body.append(r),r.click(),r.remove()}function Y(e){URL.revokeObjectURL(e.file),e.picture.startsWith("blob:")&&URL.revokeObjectURL(e.picture)}var X={name:"preview",props:{tableData:{type:Array,required:!0},download_format:{type:String,required:!0}},methods:{handlePlay:function(e,t){this.$emit("music_changed",t.file)},handleDelete:function(e,t){Y(t),this.tableData.splice(e,1)},handleDownload:function(e){G(e,this.download_format)}}},Z=X,ee=Object(V["a"])(Z,z,K,!1,null,"6856848d",null),te=ee.exports,re=r("9224"),ne=r("06dc"),ae={name:"app",components:{xUpload:W,xPreview:te},data:function(){return{version:re.version,activeIndex:"1",tableData:[],playing_url:"",playing_auto:!1,download_format:"1",instant_download:!1}},created:function(){this.$nextTick((function(){this.finishLoad()}))},methods:{finishLoad:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=document.getElementById("loader-mask"),r&&r.remove(),t.prev=2,t.next=5,fetch(ne["h"]+"/music/app-version",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Version:e.version})});case 5:return a=t.sent,t.next=8,a.json();case 8:n=t.sent,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](2);case 13:n&&(n.HttpsFound||n.Found&&"https:"!==window.location.protocol)?e.$notify.warning({title:"发现更新",message:"发现新版本 v"+n.Version+"<br/>更新详情："+n.Detail+'<br/><a target="_blank" href="'+n.URL+'">获取更新</a>',dangerouslyUseHTMLString:!0,duration:15e3,position:"top-left"}):e.$notify.info({title:"离线使用",message:"我们使用PWA技术，无网络也能使用<br/>最近更新："+re.updateInfo+'<br/><a target="_blank" href="https://github.com/ix64/unlock-music/wiki/使用提示">使用提示</a>',dangerouslyUseHTMLString:!0,duration:1e4,position:"top-left"});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},showSuccess:function(e){if(e.status){this.instant_download?(G(e,this.download_format),Y(e)):(this.tableData.push(e),this.$notify.success({title:"解锁成功",message:"成功解锁 "+e.title,duration:3e3}));var t=[e.title,e.artist,e.album];window._paq.push(["trackEvent","Unlock",e.rawExt+","+e.mime,JSON.stringify(t)])}else this.showFail(e.message,e.rawFilename+"."+e.rawExt)},showFail:function(e,t){this.$notify.error({title:"出现问题",message:e+"，"+t+'，参考<a target="_blank" href="https://github.com/ix64/unlock-music/wiki/使用提示">使用提示</a>',dangerouslyUseHTMLString:!0,duration:6e3}),window._paq.push(["trackEvent","Error",e,t]),console.error(e,t)},changePlaying:function(e){this.playing_url=e,this.playing_auto=!0},handleDeleteAll:function(){this.tableData.forEach((function(e){Y(e)})),this.tableData=[]},handleDownloadAll:function(){var e=this,t=0,r=setInterval((function(){t<e.tableData.length?(G(e.tableData[t],e.download_format),t++):clearInterval(r)}),300)}}},ce=ae,ie=(r("034f"),Object(V["a"])(ce,F,I,!1,null,null,null)),oe=ie.exports,se=r("9483");Object(se["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available."),window.location.reload()},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),P["default"].use(L.a),P["default"].use(C.a),P["default"].use(S.a),P["default"].use(U.a),P["default"].use(D.a),P["default"].use(M.a),P["default"].use(j.a),P["default"].use(k.a),P["default"].use(x.a),P["default"].use(w.a),P["default"].use(h.a),P["default"].use(m.a),P["default"].use(d.a),P["default"].use(l.a),P["default"].use(s.a),P["default"].use(i.a),P["default"].prototype.$notify=a.a,P["default"].config.productionTip=!1,document.getElementById("loader-source").remove(),new P["default"]({render:function(e){return e(oe)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"85ec":function(e,t,r){},9:function(e,t){},9224:function(e){e.exports=JSON.parse('{"name":"unlock-music","version":"1.7.0","updateInfo":"适配深色模式；修复.ncm解锁的一些问题","license":"MIT","description":"Unlock encrypted music file in browser.","repository":{"type":"git","url":"https://github.com/ix64/unlock-music"},"private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","fix-compatibility":"node ./src/fix-compatibility.js"},"dependencies":{"base64-js":"^1.3.1","browser-id3-writer":"^4.4.0","core-js":"^3.7.0","crypto-js":"^4.0.0","element-ui":"^2.14.0","iconv-lite":"^0.5.1","jimp":"^0.14.0","metaflac-js":"^1.0.5","music-metadata-browser":"^2.1.6","register-service-worker":"^1.7.1","vue":"^2.6.12"},"devDependencies":{"@vue/cli-plugin-babel":"^4.5.8","@vue/cli-plugin-pwa":"^4.5.8","@vue/cli-service":"^4.5.8","babel-plugin-component":"^1.1.1","vue-cli-plugin-element":"^1.0.1","vue-template-compiler":"^2.6.12","workerize-loader":"^1.3.0"}}')},9603:function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return m})),r.d(t,"a",(function(){return b}));r("99af"),r("4160"),r("fb6a"),r("159b");var n=r("276c"),a=r("e954"),c=r("06dc"),i=[79,103,103,83,0,2,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,255,255,255,255,1,30,1,118,111,114,98,105,115,0,0,0,0,2,68,172,0,0,0,0,0,0,0,238,2,0,0,0,0,0,184,1,79,103,103,83,0,0,0,0,0,0,0,0,0,0,255,255,255,255,1,0,0,0,255,255,255,255],o=[3,118,111,114,98,105,115,44,0,0,0,88,105,112,104,46,79,114,103,32,108,105,98,86,111,114,98,105,115,32,73,32,50,48,49,53,48,49,48,53,32,40,226,155,132,226,155,132,226,155,132,226,155,132,41,255,0,0,0,255,0,0,0,84,73,84,76,69,61],s=[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,6,3,3,3,3,6,6,6,6,3,3,3,3,6,6,6,6,6,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,0,0,0,0],u=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,1,3,3,0,1,3,3,3,3,3,3,3,3],l=[222,81,250,195,74,214,202,144,126,103,94,247,213,82,132,216,71,149,187,161,170,198,102,35,146,98,243,116,161,159,244,160,29,63,91,240,19,14,9,61,249,188,0,17],f=function(){function e(t,r,a){Object(n["a"])(this,e),void 0===r||void 0===a?(44===t.length?(this.Matrix44=t,this.generateMask128from44()):(this.Matrix128=t,this.generateMask44from128()),this.generateMask58from128()):(this.Matrix58=t,this.Super58A=r,this.Super58B=a,this.generateMask128from58(),this.generateMask44from128())}return Object(a["a"])(e,[{key:"generateMask128from58",value:function(){if(56!==this.Matrix58.length)throw"incorrect mask58 matrix length";for(var e=[],t=0;t<8;t+=1)e=e.concat([this.Super58A],this.Matrix58.slice(7*t,7*t+7),[this.Super58B],this.Matrix58.slice(49-7*t,56-7*t).reverse());this.Matrix128=e}},{key:"generateMask58from128",value:function(){if(128!==this.Matrix128.length)throw"incorrect mask128 length";for(var e=this.Matrix128[0],t=this.Matrix128[8],r=[],n=0;n<8;n+=1){var a=16*n,i=120-a;if(this.Matrix128[a]!==e||this.Matrix128[a+8]!==t)throw"decode mask-128 to mask-58 failed";var o=this.Matrix128.slice(a+1,a+8),s=this.Matrix128.slice(i+1,i+8).reverse();if(!Object(c["i"])(o,s))throw"decode mask-128 to mask-58 failed";r=r.concat(o)}this.Matrix58=r,this.Super58A=e,this.Super58B=t}},{key:"generateMask44from128",value:function(){var e=this;if(128!==this.Matrix128.length)throw"incorrect mask128 matrix length";var t=v();this.Matrix44=[];var r=0;t.forEach((function(t){for(var n=t.length,a=1;a<n;a++)if(e.Matrix128[t[0]]!==e.Matrix128[t[a]])throw"decode mask-128 to mask-44 failed";e.Matrix44[r]=e.Matrix128[t[0]],r++}))}},{key:"generateMask128from44",value:function(){var e=this;if(44!==this.Matrix44.length)throw"incorrect mask length";this.Matrix128=[];var t=0;v().forEach((function(r){r.forEach((function(r){e.Matrix128[r]=e.Matrix44[t]})),t++}))}},{key:"Decrypt",value:function(e){for(var t=e.slice(0),r=-1,n=-1,a=0;a<e.length;a++)r++,n++,(32768===r||r>32768&&(r+1)%32768===0)&&(r++,n++),n>=128&&(n-=128),t[a]^=this.Matrix128[n];return t}}]),e}();function d(){return new f(l)}function p(e){for(var t,r=Math.min(32768,e.length),n=0;n<r;n+=128)try{if(t=new f(e.slice(n,n+128)),Object(c["i"])(c["c"],t.Decrypt(e.slice(0,c["c"].length))))break}catch(a){}return t}function m(e){if(!(e.length<256)){for(var t={},r=0;r<44;r++)t[r]={};for(var n=e[84]^e[12]^i[12],a=y(n),o=k(n),s=0;s<a.length;s++)if(0!==o[s]){var u=x(s),l=e[s]^a[s],d=o[s];l in t[u]?t[u][l]+=d:t[u][l]=d}var p=[];try{for(var m=0;m<44;m++)p[m]=h(t[m])}catch(w){return}var b=new f(p),g=b.Decrypt(e.slice(0,c["j"].length));if(Object(c["i"])(c["j"],g))return b}}function b(e,t,r){return new f(e,t,r)}function h(e){if(0===e.length)throw"can not match at least one key";e.length>1&&console.warn("There are 2 potential value for the mask!");var t,r=0;for(var n in e)e[n]>r&&(t=n,r=e[n]);return parseInt(t)}var g=[],w=[];function v(){return g}function x(e){return w[e%128]}function y(e){for(var t=[e,255],r=2;r<e;r++)t.push(255);return t.push(255),i.concat(t,o)}function k(e){for(var t=[6,0],r=2;r<e;r++)t.push(4);return t.push(0),s.concat(t,u)}(function(){for(var e=0;e<128;e++){var t=(e*e+27)%256;t in g?g[t].push(e):g[t]=[e]}var r=0;g.forEach((function(e){e.forEach((function(e){w[e]=r})),r++}))})()},a8ee:function(e,t,r){"use strict";r.r(t),r.d(t,"Decrypt",(function(){return o}));r("ace4"),r("d3b7"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("96cf");var n=r("c964"),a=r("fd2f"),c=r("06dc"),i=[0,0,0,32,102,116,121,112];function o(e,t){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["d"])(t);case 2:for(n=e.sent,o=new Uint8Array(n),s=0;s<8;++s)o[s]=i[s];return u=new Blob([o],{type:"audio/mp4"}),e.next=8,Object(a["Decrypt"])(u,r,"m4a",!1);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},b57b:function(e,t,r){"use strict";r.r(t),r.d(t,"Decrypt",(function(){return s}));r("fb6a"),r("ace4"),r("d3b7"),r("25f0"),r("3ca3"),r("843c"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),r("96cf");var n=r("c964"),a=r("06dc"),c=r("cb96"),i=[121,101,101,108,105,111,110,45,107,117,119,111,45,116,109,101],o="MoOtOiTvINGwd2E6n0E1i7L5t2IoOoNk";function s(e,t,r){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var o,s,u,f,d,p,m,b,h,g,w,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,Object(a["d"])(t);case 3:if(e.t1=e.sent,o=new e.t0(e.t1),Object(a["i"])(i,o.slice(0,16))){e.next=7;break}return e.abrupt("return",{status:!1,message:"Not a valid kwm file!"});case 7:for(s=o.slice(24,32),u=l(s),f=o.slice(1024),d=f.length,p=0;p<d;++p)f[p]^=u[p%32];return m=Object(a["b"])(f,"mp3"),b=a["a"][m],h=new Blob([f],{type:b}),e.next=17,c.parseBlob(h);case 17:return g=e.sent,w=Object(a["e"])(g.common.artist,g.common.title,r),v=Object(a["f"])(g),e.abrupt("return",{status:!0,title:w.title,artist:w.artist,ext:m,album:g.common.album,picture:v,file:URL.createObjectURL(h),mime:b});case 21:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){for(var t=new DataView(e.buffer),r=t.getBigUint64(0,!0).toString(),n=f(r),a=new Uint8Array(32),c=0;c<32;c++)a[c]=o[c].charCodeAt()^n[c].charCodeAt();return a}function f(e){var t=e.length,r=e;return t>32?r=e.slice(0,32):t<32&&(r=e.padEnd(32,e)),r}},b6cf:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"Decrypt",(function(){return p}));r("fb6a"),r("45fc"),r("ace4"),r("d3b7"),r("3ca3"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),r("96cf");var n=r("c964"),a=r("06dc"),c=r("9603"),i=r("1fb5"),o=r("b686"),s=r("7907"),u=r("acf9"),l=u.decode,f=r("cb96"),d={mgg:{handler:c["c"],ext:"ogg",detect:!0},mflac:{handler:c["b"],ext:"flac",detect:!0},qmc0:{handler:c["d"],ext:"mp3",detect:!1},qmc2:{handler:c["d"],ext:"ogg",detect:!1},qmc3:{handler:c["d"],ext:"mp3",detect:!1},qmcogg:{handler:c["d"],ext:"ogg",detect:!1},qmcflac:{handler:c["d"],ext:"flac",detect:!1},bkcmp3:{handler:c["d"],ext:"mp3",detect:!1},bkcflac:{handler:c["d"],ext:"flac",detect:!1},tkm:{handler:c["d"],ext:"m4a",detect:!1},"666c6163":{handler:c["d"],ext:"flac",detect:!1},"6d7033":{handler:c["d"],ext:"mp3",detect:!1},"6f6767":{handler:c["d"],ext:"ogg",detect:!1},"6d3461":{handler:c["d"],ext:"m4a",detect:!1},776176:{handler:c["d"],ext:"wav",detect:!1}};function p(e,t,r){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function t(r,n,c){var i,u,p,m,g,v,x,y,k,_,j,O,M,A,D,R,U,B;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c in d){t.next=2;break}return t.abrupt("return",{status:!1,message:"File type is incorrect!"});case 2:return i=d[c],t.t0=Uint8Array,t.next=6,Object(a["d"])(r);case 6:if(t.t1=t.sent,u=new t.t0(t.t1),!i.detect){t.next=22;break}if(v=new DataView(u.slice(u.length-4).buffer).getUint32(0,!0),x=u.length-4-v,p=u.slice(0,x),m=i.handler(p),g=u.slice(x,x+v),void 0!==m){t.next=18;break}return t.next=17,h(g,n,c);case 17:m=t.sent;case 18:if(void 0!==m){t.next=20;break}return t.abrupt("return",{status:!1,message:c+"格式仅提供实验性支持"});case 20:t.next=24;break;case 22:p=u,m=i.handler(p);case 24:return y=m.Decrypt(p),k=Object(a["b"])(y,i.ext),_=a["a"][k],j=new Blob([y],{type:_}),t.next=30,f.parseBlob(j);case 30:for(M in O=t.sent,O.native)O.native[M].some((function(e){return"TCON"===e.id&&"(12)"===e.value}))&&(console.warn("The metadata is using gbk encoding"),O.common.artist=l(O.common.artist,"gbk"),O.common.title=l(O.common.title,"gbk"),O.common.album=l(O.common.album,"gbk"));if(A=Object(a["e"])(O.common.artist,O.common.title,n),i.detect&&b(g,m.Matrix128,A.artist,A.title,O.common.album,n,c),D=Object(a["f"])(O),""!==D){t.next=44;break}return t.next=38,w(A.artist,A.title,O.common.album);case 38:if(D=t.sent,""===D){t.next=44;break}return t.next=42,Object(a["g"])(D);case 42:if(R=t.sent,""!==R.url){D=R.url;try{"mp3"===k?(U=new s(y),U.setFrame("APIC",{type:3,data:R.buffer,description:"Cover"}),U.addTag(),y=U.arrayBuffer,j=new Blob([y],{type:_})):"flac"===k&&(B=new o(e.from(y)),B.importPictureFromBuffer(e.from(R.buffer)),y=B.save(),j=new Blob([y],{type:_}))}catch(S){console.warn("Error while appending cover image to file "+S)}}case 44:return t.abrupt("return",{status:!0,title:A.title,artist:A.artist,ext:k,album:O.common.album,picture:D,file:URL.createObjectURL(j),mime:_});case 45:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(e,t,r,n,c,o,s){fetch(a["h"]+"/qmcmask/usage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Mask:Object(i["fromByteArray"])(new Uint8Array(t)),Key:Object(i["fromByteArray"])(e),Artist:r,Title:n,Album:c,Filename:o,Format:s})}).then().catch()}function h(e,t,r){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a["h"]+"/qmcmask/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Format:n,Key:Object(i["fromByteArray"])(t),Filename:r,Type:44})});case 3:return o=e.sent,e.next=6,o.json();case 6:return s=e.sent,e.abrupt("return",Object(c["a"])(Object(i["toByteArray"])(s.Matrix44)));case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),g.apply(this,arguments)}function w(e,t,r){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var c,i,o,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in c=a["h"]+"/music/qq-cover",e.prev=1,i={Artist:t,Title:r,Album:n},o=c+"?",i)o+=s+"="+encodeURIComponent(i[s])+"&";return e.next=7,fetch(o);case 7:if(u=e.sent,!u.ok){e.next=13;break}return e.next=11,u.json();case 11:return l=e.sent,e.abrupt("return",c+"/"+l.Type+"/"+l.Id);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),console.log(e.t0);case 18:return e.abrupt("return","");case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),v.apply(this,arguments)}}.call(this,r("1c35").Buffer)},bd2e:function(e,t,r){"use strict";r.r(t),r.d(t,"CommonDecrypt",(function(){return f}));r("baa5"),r("b0c0"),r("96cf");var n=r("c964"),a=r("dde9"),c=r("b57b"),i=r("002f"),o=r("b6cf"),s=r("fd2f"),u=r("a8ee"),l=r("e5b9");function f(e){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.name.substring(t.name.lastIndexOf(".")+1,t.name.length).toLowerCase(),n=t.name.substring(0,t.name.lastIndexOf(".")),e.t0=r,e.next="ncm"===e.t0?5:"kwm"===e.t0?9:"xm"===e.t0||"wav"===e.t0||"mp3"===e.t0||"flac"===e.t0||"m4a"===e.t0?13:"ogg"===e.t0?17:"tm0"===e.t0||"tm3"===e.t0?21:"qmc3"===e.t0||"qmc2"===e.t0||"qmc0"===e.t0||"qmcflac"===e.t0||"qmcogg"===e.t0||"tkm"===e.t0||"bkcmp3"===e.t0||"bkcflac"===e.t0||"mflac"===e.t0||"mgg"===e.t0||"666c6163"===e.t0||"6d7033"===e.t0||"6f6767"===e.t0||"6d3461"===e.t0||"776176"===e.t0?25:"tm2"===e.t0||"tm6"===e.t0?29:"vpr"===e.t0||"kgm"===e.t0||"kgma"===e.t0?33:37;break;case 5:return e.next=7,a.Decrypt(t.raw,n,r);case 7:return f=e.sent,e.abrupt("break",38);case 9:return e.next=11,c.Decrypt(t.raw,n,r);case 11:return f=e.sent,e.abrupt("break",38);case 13:return e.next=15,i.Decrypt(t.raw,n,r);case 15:return f=e.sent,e.abrupt("break",38);case 17:return e.next=19,s.Decrypt(t.raw,n,r);case 19:return f=e.sent,e.abrupt("break",38);case 21:return e.next=23,s.Decrypt(t.raw,n,"mp3");case 23:return f=e.sent,e.abrupt("break",38);case 25:return e.next=27,o.Decrypt(t.raw,n,r);case 27:return f=e.sent,e.abrupt("break",38);case 29:return e.next=31,u.Decrypt(t.raw,n);case 31:return f=e.sent,e.abrupt("break",38);case 33:return e.next=35,l.Decrypt(t.raw,n,r);case 35:return f=e.sent,e.abrupt("break",38);case 37:f={status:!1,message:"不支持此文件格式"};case 38:return f.rawExt||(f.rawExt=r),f.rawFilename||(f.rawFilename=n),console.log(f),e.abrupt("return",f);case 42:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}},bfa2:function(e,t,r){var n=r("3d67"),a=["CommonDecrypt"];e.exports=function(){var e=new Worker(r.p+"daf933914a50180f6d92.worker.js",{name:"[hash].worker.js"});return n(e,a),e}},dde9:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"Decrypt",(function(){return p}));r("4160"),r("c975"),r("a15b"),r("d81d"),r("fb6a"),r("ace4"),r("d3b7"),r("ac1f"),r("25f0"),r("3ca3"),r("5319"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("159b"),r("ddb0"),r("2b3d"),r("96cf");var n=r("c964"),a=r("7e37"),c=r.n(a),i=r("06dc"),o=r("3452"),s=r("b686"),u=o.enc.Hex.parse("687a4852416d736f356b496e62617857"),l=o.enc.Hex.parse("2331346C6A6B5F215C5D2630553C2728"),f=[67,84,69,78,70,68,65,77],d=r("cb96");function p(e,t,r){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function t(r,n,a){var o,u,l,p,m,w,v,x,y,k,_,j,O,M,A,D,R,U,B,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["d"])(r);case 2:if(o=t.sent,u=new DataView(o),Object(i["i"])(f,new Uint8Array(o,0,8))){t.next=6;break}return t.abrupt("return",{status:!1,message:"此ncm文件已损坏"});case 6:for(l=b(u,o,10),p=h(l.data),m=g(u,o,l.offset),w=m.data,v=m.offset+u.getUint32(m.offset+5,!0)+13,x=new Uint8Array(o,v),y=x.length,k=0;k<y;++k)x[k]^=p[255&k];return void 0===w.album&&(w.album=""),_=[],w.artist&&w.artist.forEach((function(e){return _.push(e[0])})),j=Object(i["e"])(_.join("; "),w.musicName,n),0===_.length&&_.push(j.artist),void 0===w.format&&(w.format=Object(i["b"])(x,"mp3")),console.log(w),t.next=23,Object(i["g"])(w.albumPic);case 23:O=t.sent;case 24:if(!(O.buffer&&O.buffer.byteLength>=16777216)){t.next=35;break}return t.next=27,c.a.read(O.buffer);case 27:return M=t.sent,t.next=30,M.resize(Math.round(M.getHeight()/2),c.a.AUTO);case 30:return t.next=32,M.getBufferAsync("image/jpeg");case 32:O.buffer=t.sent,t.next=24;break;case 35:return console.log(O),A=i["a"][w.format],t.prev=37,D=new Blob([x],{type:A}),t.next=41,d.parseBlob(D);case 41:if(R=t.sent,U=!R.common.album&&!R.common.artists&&!R.common.title,"mp3"!==w.format){t.next=49;break}return t.next=46,Object(i["k"])(x,_,j.title,w.album,O.buffer,w.albumPic,!U);case 46:x=t.sent,t.next=50;break;case 49:"flac"===w.format&&(B=new s(e.from(x)),U&&(B.setTag("TITLE="+j.title),B.setTag("ALBUM="+w.album),B.removeTag("ARTIST"),_.forEach((function(e){return B.setTag("ARTIST="+e)}))),B.importPictureFromBuffer(e.from(O.buffer)),x=B.save());case 50:t.next=55;break;case 52:t.prev=52,t.t0=t["catch"](37),console.warn("Error while appending cover image to file "+t.t0);case 55:return S=new Blob([x],{type:A}),t.abrupt("return",{status:!0,title:j.title,artist:j.artist,ext:w.format,album:w.album,picture:O.url,file:URL.createObjectURL(S),mime:A});case 57:case"end":return t.stop()}}),t,null,[[37,52]])}))),m.apply(this,arguments)}function b(e,t,r){var n=e.getUint32(r,!0);r+=4;var a=new Uint8Array(t,r,n).map((function(e){return 100^e}));r+=n;for(var c=o.AES.decrypt({ciphertext:o.lib.WordArray.create(a)},u,{mode:o.mode.ECB,padding:o.pad.Pkcs7}),i=new Uint8Array(c.sigBytes),s=c.words,l=c.sigBytes,f=0;f<l;f++)i[f]=s[f>>>2]>>>24-f%4*8&255;return{offset:r,data:i.slice(17)}}function h(e){for(var t=new Uint8Array(Array(256).keys()),r=e.length,n=0,a=0;a<256;a++){n=t[a]+n+e[a%r]&255;var c=[t[n],t[a]];t[a]=c[0],t[n]=c[1]}return t.map((function(e,t,r){t=t+1&255;var n=r[t],a=r[t+n&255];return r[n+a&255]}))}function g(e,t,r){var n=e.getUint32(r,!0);if(r+=4,0===n)return{data:{},offset:r};var a=new Uint8Array(t,r,n).map((function(e){return 99^e}));r+=n;var c=o.AES.decrypt({ciphertext:o.enc.Base64.parse(o.lib.WordArray.create(a.slice(22)).toString(o.enc.Utf8))},l,{mode:o.mode.ECB,padding:o.pad.Pkcs7}).toString(o.enc.Utf8),i=c.indexOf(":"),s=JSON.parse(c.slice(i+1));return"dj"===c.slice(0,i)&&(s=s.mainMusic),s.albumPic&&""!==s.albumPic&&(s.albumPic=s.albumPic.replace("http://","https://")+"?param=500y500"),{data:s,offset:r}}}.call(this,r("1c35").Buffer)},e5b9:function(e,t,r){"use strict";r.r(t),r.d(t,"Decrypt",(function(){return u}));r("fb6a"),r("ace4"),r("d3b7"),r("3ca3"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),r("96cf");var n=r("c964"),a=r("06dc"),c=r("cb96"),i=[5,40,188,150,233,228,90,67,145,170,189,208,122,245,54,49],o=[124,213,50,235,134,2,127,75,168,175,166,142,15,255,153,20],s=[37,223,232,166,117,30,117,14,47,128,243,45,184,182,227,17,0];function u(e,t,r){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var u,l,m,b,h,g,w,v,x,y,k,_,j,O,M,A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"file:"!==window.location.protocol){e.next=3;break}return e.abrupt("return",{status:!1,message:"请使用<a target='_blank' href='https://github.com/ix64/unlock-music/wiki/其他音乐格式工具'>CLI版本</a>进行解锁"});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.t1=Uint8Array,e.next=10,Object(a["d"])(t);case 10:if(e.t2=e.sent,u=new e.t1(e.t2),"vpr"!==n){e.next=17;break}if(Object(a["i"])(i,u.slice(0,16))){e.next=15;break}return e.abrupt("return",{status:!1,message:"Not a valid vpr file!"});case 15:e.next=19;break;case 17:if(Object(a["i"])(o,u.slice(0,16))){e.next=19;break}return e.abrupt("return",{status:!1,message:"Not a valid kgm/kgma file!"});case 19:if(l=new DataView(u.slice(16,20).buffer),m=l.getUint32(0,!0),b=u.slice(m),h=b.length,!(b.byteLength>1<<26)){e.next=25;break}return e.abrupt("return",{status:!1,message:"文件过大，请使用<a target='_blank' href='https://github.com/ix64/unlock-music/wiki/其他音乐格式工具'>CLI版本</a>进行解锁"});case 25:if(g=new Uint8Array(17),g.set(u.slice(28,44),0),null!=d){e.next=32;break}return e.next=30,p();case 30:if(e.sent){e.next=32;break}return e.abrupt("return",{status:!1,message:"加载Kgm/Vpr Mask数据失败"});case 32:for(w=0;w<h;w++)v=g[w%17]^b[w],v^=(15&v)<<4,x=f(w),x^=(15&x)<<4,b[w]=v^x;if("vpr"===n)for(y=0;y<h;y++)b[y]^=s[y%17];return k=Object(a["b"])(b,"mp3"),_=a["a"][k],j=new Blob([b],{type:_}),e.next=39,c.parseBlob(j);case 39:return O=e.sent,M=Object(a["e"])(O.common.artist,O.common.title,r),A=Object(a["f"])(O),e.abrupt("return",{status:!0,title:M.title,artist:M.artist,ext:k,album:O.common.album,picture:A,file:URL.createObjectURL(j),mime:_});case 43:case"end":return e.stop()}}),e,null,[[0,5]])}))),l.apply(this,arguments)}function f(e){return b[e%272]^d[e>>4]}var d=null;function p(){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("./static/kgm.mask",{method:"GET"});case 3:return t=e.sent,e.t0=Uint8Array,e.next=7,t.arrayBuffer();case 7:return e.t1=e.sent,d=new e.t0(e.t1),e.abrupt("return",!0);case 12:return e.prev=12,e.t2=e["catch"](0),console.error(e.t2),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),m.apply(this,arguments)}var b=[184,213,61,178,233,175,120,140,131,51,113,81,118,160,205,55,47,62,53,141,169,190,152,183,231,140,34,206,90,97,223,104,105,137,254,165,182,222,169,119,252,200,189,189,229,109,62,90,54,239,105,78,190,225,233,102,28,243,217,2,182,242,18,155,68,208,111,185,53,137,182,70,109,115,130,6,105,193,237,215,133,194,48,223,162,98,190,121,45,98,98,61,13,126,190,72,137,35,2,160,228,213,117,81,50,2,83,253,22,58,33,59,22,15,195,178,187,179,226,186,58,61,19,236,246,1,69,132,165,112,15,147,73,12,100,205,49,213,204,76,7,1,158,0,26,35,144,191,136,30,59,171,166,62,196,115,71,16,126,59,94,188,227,0,132,255,9,212,224,137,15,91,88,112,79,251,101,216,92,83,27,211,200,198,191,239,152,176,80,79,15,234,229,131,88,140,40,44,132,103,205,208,158,71,219,39,80,202,244,99,99,232,151,127,27,75,12,194,193,33,76,204,88,245,148,82,163,243,211,224,104,244,0,35,243,94,10,123,147,221,171,18,178,19,232,132,215,167,159,15,50,76,85,29,4,54,82,220,3,243,249,78,66,233,61,97,239,124,182,179,147,80]},fd2f:function(e,t,r){"use strict";r.r(t),r.d(t,"Decrypt",(function(){return i}));r("ace4"),r("d3b7"),r("3ca3"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),r("96cf");var n=r("c964"),a=r("06dc"),c=r("cb96");function i(e,t,r){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var i,o,s,u,l,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=!(f.length>3&&void 0!==f[3])||f[3],o=n,!i){e.next=10;break}return e.t0=Uint8Array,e.next=6,Object(a["d"])(t);case 6:e.t1=e.sent,s=new e.t0(e.t1),o=Object(a["b"])(s,n),o!==n&&(t=new Blob([s],{type:a["a"][o]}));case 10:return e.next=12,c.parseBlob(t);case 12:return u=e.sent,l=Object(a["e"])(u.common.artist,u.common.title,r),e.abrupt("return",{status:!0,title:l.title,artist:l.artist,ext:o,album:u.common.album,picture:Object(a["f"])(u),file:URL.createObjectURL(t),mime:a["a"][o]});case 15:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}}});
                
            </div>
            <hr/>
            
            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Jingyouni</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jeffreyouni.github.io/2020/11/12/unlockmusic/js/app-legacy.80cebe87/">https://jeffreyouni.github.io/2020/11/12/unlockmusic/js/app-legacy.80cebe87/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Jingyouni</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/share/css/share.min.css">
<div id="article-share">

    

    
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5f9773bbad06e7a5"></script>
    <div class="addthis_inline_share_toolbox"></div>
    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/valine/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'GGYNw1ofn6xcqxHPU0Vx8b4i-MdYXbMMI',
        appKey: '7rj0i1fx8hnGfjrjjqcd5O57',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go',
        meta: ['nick','mail']
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/11/12/unlockmusic/js/app.14501f43/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/medias/featureimages/1.jpg" class="responsive-img" alt="unlockmusic/js/app.14501f43">
                        
                        <span class="card-title">unlockmusic/js/app.14501f43</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            (function (t) { function e(e) { for (var r, i, c = e[0], s = e[1], l = e[2], d = 0, f = []; d < c.length; d++)i = c[d], 
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-11-12
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Jingyouni
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/11/12/unlockmusic/css/chunk-vendors.8cf7dd44/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/medias/featureimages/17.jpg" class="responsive-img" alt="unlockmusic/css/chunk-vendors.8cf7dd44">
                        
                        <span class="card-title">unlockmusic/css/chunk-vendors.8cf7dd44</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            .el-notification{display:-webkit-box;display:-ms-flexbox;display:flex;width:330px;padding:14px 26px 14px 13px;border-rad
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-11-12
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Jingyouni
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: HackTechs.top<br />'
            + '文章作者: Jingyouni<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
            <!--
            
            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Jingyouni</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jeffreyouni.github.io/2020/11/12/unlockmusic/js/app-legacy.80cebe87/">https://jeffreyouni.github.io/2020/11/12/unlockmusic/js/app-legacy.80cebe87/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Jingyouni</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


            -->
        </div>
    </div>
    
</div>

<!-- TOC 悬浮按钮. -->

    
<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>



<script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

    


<!-- boutique 联系方式 -->
<script>
    var contact = '';
    contact += '<a href="/medias/reward/addWechat.jpg" target="_blank"><button>微信</button></a>';
    contact += '<a href="https://instagram.com/jingyouni" target="_blank"><button>Instagram</button></a>';
    contact += '<a href="https://wa.me/16478610109?text=你好,我想要买东西." target="_blank"><button>WhatsApp</button></a>';
    window.onload = function () {
        document.getElementById("contactInner").innerHTML = contact;
    }
</script>


</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">Jingyouni</a>
            <br>
            <!-- Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">Jingyouni</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br> -->
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:jeffreygu0109@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="https://cdn.jsdelivr.net/gh/jeffreyouni/jeffreyouni.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
